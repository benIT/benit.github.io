<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; benIT&#039;s notebook &mdash; </title>
        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <meta name="robots" content="noindex, follow">
                <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <link rel="apple-touch-startup-image" href="/images/jackson/2048x2048.png">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="shortcut icon" sizes="76x76" href="/images/jackson/76x76.png">
        <link rel="shortcut icon" sizes="120x120" href="/images/jackson/120x120.png">
        <link rel="shortcut icon" sizes="128x128" href="/images/jackson/128x128.png">
        <link rel="shortcut icon" sizes="152x152" href="/images/jackson/152x152.png">
        <link rel="shortcut icon" sizes="196x196" href="/images/jackson/196x196.png">
        <link rel="shortcut icon" sizes="512x512" href="/images/jackson/512x512.png">
        <link rel="shortcut icon" sizes="1024x1024" href="/images/jackson/1024x1024.png">
        <link rel="shortcut icon" sizes="2048x2048" href="/images/jackson/2048x2048.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/images/jackson/76x76.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/images/jackson/120x120.png">
        <link rel="apple-touch-icon" sizes="128x128" href="/images/jackson/128x128.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/images/jackson/152x152.png">
        <link rel="apple-touch-icon" sizes="196x196" href="/images/jackson/196x196.png">
        <link rel="apple-touch-icon" sizes="512x512" href="/images/jackson/512x512.png">
        <link rel="apple-touch-icon" sizes="1024x1024" href="/images/jackson/1024x1024.png">
        <link rel="apple-touch-icon" sizes="2048x2048" href="/images/jackson/2048x2048.png">

        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="benIT&#039;s notebook activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
                                    </head>
    <a href="https://github.com/benIT/github-blog"><img style="z-index:1032;position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
    <body>
        <header>
            <nav class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/">benIT&#039;s notebook </a>
                    </div>
                    <div id="navbar" class="collapse navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li><a href="https://github.com/benIT">Github</a></li>
                            <li><a href="/blog">Posts Archive</a></li>
                            <li><a href="/blog/categories">Categories</a></li>
                            <li><a href="/atom.xml">RSS feed</a></li>
                            <!--<li><a href="/blog/tags">Tags</a></li>-->
                            <li><a href="/about">About</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2><a href="/blog/2017/09/28/postgresql-survival-sheet">PostgreSQL survival sheet</a></h2>
        </header>
        <div>
            <p>In this post, the most common pgsql commands that I use are listed. This is not really interesting but I'm bored of asking google for it every week!</p>

<h2 id="start-psql-command-line-utility">Start psql command line utility</h2>

<p>Using the <code>postgres</code> superuser:</p>

<pre><code>sudo -u postgres psql
</code></pre>

<h2 id="exit">Exit</h2>

<pre><code>postgres=# \q
</code></pre>

<h2 id="list-databases">List databases</h2>

<pre><code>postgres=# \l+
</code></pre>

<p>output:</p>

<pre><code>                                                                    List of databases
    Name    |  Owner   | Encoding |   Collate   |    Ctype    |   Access privileges   |  Size   | Tablespace |                Description                 
------------+----------+----------+-------------+-------------+-----------------------+---------+------------+--------------------------------------------
 clipbucket | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6532 kB | pg_default | 
 moodle     | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6532 kB | pg_default | 
 postgres   | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6532 kB | pg_default | default administrative connection database
 template0  | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +| 6409 kB | pg_default | unmodifiable empty database
            |          |          |             |             | postgres=CTc/postgres |         |            | 
 template1  | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +| 6532 kB | pg_default | default template for new databases
            |          |          |             |             | postgres=CTc/postgres |         |            | 
 testdb     | testdb   | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6724 kB | pg_default | 
 videoapp   | videoapp | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6724 kB | pg_default | 
(7 rows)
</code></pre>

<h2 id="drop-database">Drop database</h2>

<pre><code>postgres=# DROP DATABASE testdeploy;
</code></pre>

<p>output:</p>

<pre><code>postgres=# DROP DATABASE
</code></pre>

<h2 id="list-users">List users</h2>

<pre><code>postgres=# \du+
</code></pre>

<p>output :</p>

<pre><code>                                   List of roles
   Role name    |                   Attributes                   | Member of | Description 
----------------+------------------------------------------------+-----------+-------------
 clipbucket     |                                                | {}        | 
 manuel         | Create DB                                      | {}        | 
 moodle         |                                                | {}        | 
 postgres       | Superuser, Create role, Create DB, Replication | {}        | 
 testdb         | Create DB                                      | {}        | 
 testdeploy     | Create DB                                      | {}        | 
 testdeploytest | Create DB                                      | {}        | 
 videoapp       | Create DB                                      | {}        | 
</code></pre>

<h2 id="drop-user">Drop user</h2>

<pre><code>postgres=# DROP USER testdeploy;
</code></pre>

<p>output:</p>

<pre><code>DROP ROLE
</code></pre>

<h2 id="create-user">Create user</h2>

<pre><code>postgres=# CREATE USER videoapp WITH PASSWORD 'videoapp' CREATEDB ;
</code></pre>

<p>Note : This user has privilege to create a db.</p>

<p>output:</p>

<pre><code>CREATE ROLE
</code></pre>

<h2 id="list-db-tables">List DB tables</h2>

<h3 id="switch-database">Switch database</h3>

<pre><code>postgres=# \c videoapp
</code></pre>

<p>output:</p>

<pre><code>You are now connected to database "videoapp" as user "postgres".
</code></pre>

<h3 id="list-tables">List tables</h3>

<pre><code>videoapp=# \dt+
</code></pre>

<p>output:</p>

<pre><code>                         List of relations
 Schema |    Name     | Type  |  Owner   |    Size    | Description 
--------+-------------+-------+----------+------------+-------------
 public | fos_user    | table | videoapp | 8192 bytes | 
 public | tag         | table | videoapp | 0 bytes    | 
 public | video       | table | videoapp | 8192 bytes | 
 public | videos_tags | table | videoapp | 0 bytes    | 
(4 rows)
</code></pre>

<h2 id="privileges">Privileges</h2>

<h3 id="connect-as-%60postgres%60-superuser">Connect as <code>postgres</code> superuser</h3>

<pre><code>PGPASSWORD="P@ss0rd" psql -U postgres -h 10.11.12.13 -p 5432
</code></pre>

<h3 id="grant-privileges">Grant Privileges</h3>

<pre><code>GRANT CONNECT ON DATABASE app_database TO app_user;
\c app_database
GRANT USAGE ON SCHEMA public TO app_user;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO app_user;
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO app_user;
</code></pre>

<h2 id="config-files">Config files</h2>

<h2 id="determine-which-config-file-is-in-use">Determine which config file is in use</h2>

<pre><code>SHOW config_file ;
</code></pre>

<h2 id="determine-which-hba-file-is-in-use">Determine which hba file is in use</h2>

<pre><code>SHOW hba_file;
</code></pre>

<h2 id="connection">Connection</h2>

<h3 id="remote-connection">Remote connection</h3>

<p>In <code>postgresql.conf</code>:</p>

<pre><code>listen_addresses = '*'
</code></pre>

<p>In <code>pg_hba.conf</code>:</p>

<pre><code>host  all  all 0.0.0.0/0 md5
</code></pre>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/blog/2017/07/10/vagrant-share-ssh-agent">Vagrant share ssh agent between host and guests</a></h2>
        </header>
        <div>
            <h2 id="why%3F">Why?</h2>

<p>In this way you can share from your host multiple ssh keys without copy/paste its on each VM. All ssh key are centralised and that's better when working with a lot of VM.</p>

<h2 id="how-to%3F">How to?</h2>

<h3 id="on-the-host-side">On the host side</h3>

<p>In <code>~/.ssh/config</code>:</p>

<pre><code>#share ssh agentwith VM
Host *
 ForwardAgent yes 
</code></pre>

<h3 id="on-the-guest-side">On the guest side</h3>

<p>In <code>Vagrantfile</code>:</p>

<pre><code>config.ssh.forward_agent = true
</code></pre>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/blog/2017/07/07/cool-open-source-software">Cool open source software for home</a></h2>
        </header>
        <div>
            <p>I spent many years to find a full and cool stack of open source softwares for home. Here is my personal open source software list, that I really enjoy.</p>

<h2 id="os">OS</h2>

<p>After testing several linux (fedora, opensuse, debian, ubuntu ...), I think the easiest for home are debian based OS:</p>

<ul>
<li><a href="https://www.debian.org/index.fr.html">linux debian</a>: robust</li>
<li><a href="https://www.linuxmint.com/">linux mint</a>: like ubuntu without the commercial taste</li>
</ul>

<h2 id="system">System</h2>

<ul>
<li><a href="http://gparted.org/">gparted</a>: partition made easy</li>
<li><a href="http://clonezilla.org/">clonezilla</a>: restore your OS</li>
<li><a href="https://itsfoss.com/multiple-linux-one-usb/">multibootusb</a>: run several live iso on the same usb drive</li>
</ul>

<h2 id="privacy">Privacy</h2>

<ul>
<li><a href="https://www.veracrypt.fr/en/Home.html">veracrypt</a>: awesome. No more USB key or sensitive data without that </li>
<li><a href="http://keepass.info/">keepass</a>: cannot live without that</li>
</ul>

<h2 id="web-browser">Web browser</h2>

<ul>
<li><a href="https://www.mozilla.org/fr/firefox">firefox</a>: a must have</li>
<li><a href="https://www.chromium.org/Home">chromium</a>: powerfull</li>
</ul>

<h2 id="filesharing">Filesharing</h2>

<ul>
<li><a href="https://nextcloud.com/">nextcloud</a>: bye bye dropbox</li>
<li>rsync: backup your data at a friend house</li>
<li>ssh: connect to a friend house</li>
</ul>

<h2 id="gps">GPS</h2>

<ul>
<li><a href="https://sourceforge.net/projects/viking/?SetFreedomCookie">viking</a>: awesome for GPS tracking</li>
</ul>

<h2 id="office">Office</h2>

<ul>
<li><a href="https://fr.libreoffice.org/">libreoffice</a>: for documents, spreadsheets</li>
<li><a href="https://www.mozilla.org/fr/thunderbird/">thunderbird</a>: for mailing and RSS</li>
</ul>

<h2 id="text-editor">Text editor</h2>

<ul>
<li><a href="http://www.vim.org/download.php">vim</a>: you must know that stuff</li>
<li><a href="https://atom.io/">atom</a>: bye bye sublime text</li>
</ul>

<h2 id="image-editor">Image editor</h2>

<ul>
<li><a href="https://pinta-project.com/pintaproject/pinta/">pinta</a>: for simple editing</li>
<li><a href="https://www.gimp.org/fr/">gimp</a>: for complex editing</li>
</ul>

<h2 id="multimedia">Multimedia</h2>

<ul>
<li><a href="https://www.videolan.org/vlc/index.fr.html">vlc</a>: this stuff reads and streams everything</li>
<li><a href="https://doc.ubuntu-fr.org/audio-recorder#installation">audio-recorder</a>: capture audio stream fpr your pc</li>
<li><a href="https://doc.ubuntu-fr.org/kazam">kazam</a>: cool screencasting</li>
<li><a href="https://www.cyberciti.biz/open-source/linux-screenshot-program-tool/">shutter</a>: cool screenshoting</li>
<li><a href="https://www.ffmpeg.org/">ffmpeg</a>: converting video and audio has never been so easy. </li>
</ul>

<h2 id="website">Website</h2>

<ul>
<li><a href="https://fr.wordpress.com/">wordpress</a>: cool for associations website</li>
<li><a href="https://sculpin.io/">sculpin</a>: cool for static content.</li>
</ul>

        </div>
            </article>
    <nav>
        <ul class="pager">
            <li class="next"><a href="/page/25">Older posts<span aria-hidden="true">&rarr;</span></a></li>            <li class="previous"><a href="/page/23"><span aria-hidden="true">&larr;</span> Newer posts</a></li>        </ul>
    </nav>
                </div>
                <!--<div class="span4 sidebar">-->
                    <!--<div class="well">-->
                        <!--<h4>benIT&#039;s notebook</h4>-->
                    <!--</div>-->
                    <!--<div class="well sidebar-nav">-->
                        <!--<h4>Links</h4>-->
                        <!--<ul class="nav">-->
                            <!--<li><a href="http://sculpin.io">sculpin.io</a></li>-->
                            <!--<li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>-->
                        <!--</ul>-->
                    <!--</div>-->
                <!--</div>-->
            </div>
        </div>
        <footer class="container">
            &copy; 2021 benIT&#039;s notebook
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

                    </body>
</html>
